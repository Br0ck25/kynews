import{u as g,k as E,r as s,y as p,R as e,b as r,D as S,i as y,I as P,j as k,n as v,S as x}from"./index-68c678c9.js";import{S as b}from"./skeletons-component-f6be9953.js";import{P as C}from"./posts-component-7b32dd69.js";import{T as I}from"./TextField-ed2b85c2.js";import"./Select-c60b24bd.js";import"./useFormControl-36ca9e25.js";const T=v({root:{},gridContainer:{display:"flex",alignItems:"center"}}),V=new x;function j(){const l=T(),n=g(a=>a.searchPosts),c=E(),[i,m]=s.useState(!1),[u,h]=s.useState(""),[t,d]=s.useState(n.searchValue);s.useEffect(()=>{const a=setTimeout(()=>{t.length>2?(m(!0),V.getPosts({search:t,category:"today",limit:15}).then(o=>{c(p({searchValue:t,posts:o})),m(!1)}).catch(o=>{h(o.errorMessage)})):c(p({searchValue:"",posts:[]}))},1e3);return()=>clearTimeout(a)},[t]);const f=a=>{d(a.target.value)};return e.createElement("div",{className:l.root},e.createElement(r,{container:!0,className:l.gridContainer},e.createElement(r,{item:!0,xs:!1,md:3}),e.createElement(r,{item:!0,xs:12,md:6},e.createElement(I,{id:"standard-full-width",label:"Search articles",style:{margin:8},value:t,helperText:"Enter at least 3 characters",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:f,autoComplete:"off"}))),e.createElement(S,null),e.createElement("br",null),e.createElement(r,{container:!0},!i&&n.posts?e.createElement(e.Fragment,null,e.createElement(C,{posts:n.posts})):i&&e.createElement(b,null)),e.createElement(y,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!u,message:u,key:"topcenter",action:e.createElement(P,{"aria-label":"close",color:"inherit",className:l.close,onClick:()=>h("")},e.createElement(k,null))}))}export{j as default};
