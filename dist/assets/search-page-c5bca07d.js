import{u as f,k as S,r as s,O as p,R as e,b as r,E as g,i as P,I as k,j as v,n as x,S as C}from"./index-de10930f.js";import{S as b}from"./skeletons-component-67b6d726.js";import{P as y}from"./posts-component-1c27906d.js";import{T as I}from"./TextField-0df918c3.js";import"./Chip-d2c58679.js";import"./Select-c9a1f33f.js";import"./useFormControl-2d614596.js";const T=x({root:{},gridContainer:{display:"flex",alignItems:"center"}}),V=new C({}.REACT_APP_API_BASE_URL);function D(){const l=T(),n=f(a=>a.searchPosts),c=S(),[i,m]=s.useState(!1),[u,h]=s.useState(""),[t,d]=s.useState(n.searchValue);s.useEffect(()=>{const a=setTimeout(()=>{t.length>2?(m(!0),V.getPosts(t,15).then(o=>{c(p({searchValue:t,posts:o})),m(!1)}).catch(o=>{h(o.errorMessage)})):c(p({searchValue:"",posts:[]}))},1e3);return()=>clearTimeout(a)},[t]);const E=a=>{d(a.target.value)};return e.createElement("div",{className:l.root},e.createElement(r,{container:!0,className:l.gridContainer},e.createElement(r,{item:!0,xs:!1,md:3}),e.createElement(r,{item:!0,xs:12,md:6},e.createElement(I,{id:"standard-full-width",label:"Search articles",style:{margin:8},value:t,helperText:"Enter at least 3 characters",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:E,autoComplete:"off"}))),e.createElement(g,null),e.createElement("br",null),e.createElement(r,{container:!0},!i&&n.posts?e.createElement(e.Fragment,null,e.createElement(y,{posts:n.posts})):i&&e.createElement(b,null)),e.createElement(P,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!u,message:u,key:"topcenter",action:e.createElement(k,{"aria-label":"close",color:"inherit",className:l.close,onClick:()=>h("")},e.createElement(v,null))}))}export{D as default};
