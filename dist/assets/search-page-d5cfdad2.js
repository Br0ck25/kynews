import{u as E,l as f,r as s,N as d,R as e,b as r,O as S,p as y,o as k,j as v,I as x,k as P,t as b,S as C}from"./index-32708b77.js";import{T as I}from"./TextField-703e4279.js";import"./Select-b8a0bd9c.js";import"./useFormControl-fff68ace.js";const T=b({root:{},gridContainer:{display:"flex",alignItems:"center"}}),V=new C;function F(){const l=T(),n=E(a=>a.searchPosts),o=f(),[i,m]=s.useState(!1),[u,h]=s.useState(""),[t,p]=s.useState(n.searchValue);s.useEffect(()=>{const a=setTimeout(()=>{t.length>2?(m(!0),V.getPosts({search:t,category:"today",limit:15}).then(c=>{o(d({searchValue:t,posts:c})),m(!1)}).catch(c=>{h(c.errorMessage)})):o(d({searchValue:"",posts:[]}))},1e3);return()=>clearTimeout(a)},[t]);const g=a=>{p(a.target.value)};return e.createElement("div",{className:l.root},e.createElement(r,{container:!0,className:l.gridContainer},e.createElement(r,{item:!0,xs:!1,md:3}),e.createElement(r,{item:!0,xs:12,md:6},e.createElement(I,{id:"standard-full-width",label:"Search articles",style:{margin:8},value:t,helperText:"Enter at least 3 characters",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:g,autoComplete:"off"}))),e.createElement(S,null),e.createElement("br",null),e.createElement(r,{container:!0},!i&&n.posts?e.createElement(e.Fragment,null,e.createElement(y,{posts:n.posts})):i&&e.createElement(k,null)),e.createElement(v,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!u,message:u,key:"topcenter",action:e.createElement(x,{"aria-label":"close",color:"inherit",className:l.close,onClick:()=>h("")},e.createElement(P,null))}))}export{F as default};
