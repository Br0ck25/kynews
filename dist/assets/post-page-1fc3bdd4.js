import{N as $,u as x,R as a,S as B,O as R,Q as _,T as u,a as C,H as T,n as U}from"./index-0bafab06.js";const j=U({root:{marginTop:15},emptyState:{textAlign:"center",padding:"24px 16px"},emptyAction:{marginTop:16}}),l="https://localkynews.com",s="Local KY News";function o(n,t,i){let r=document.querySelector(`meta[${n}="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute(n,t),document.head.appendChild(r)),r.setAttribute("content",i)}function I(n){let t=document.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",n)}function A(n,t){let i=document.getElementById(n);i||(i=document.createElement("script"),i.type="application/ld+json",i.id=n,document.head.appendChild(i)),i.textContent=JSON.stringify(t)}function K(){var S;const n=j(),t=$(),i=x(e=>e.post),[r,y]=a.useState(((S=t==null?void 0:t.state)==null?void 0:S.post)||i||null),[P,g]=a.useState(!1),h=a.useMemo(()=>new B({}.REACT_APP_API_BASE_URL),[]);a.useEffect(()=>{if(r)return;const d=new URLSearchParams(t.search||"").get("articleId");d&&(g(!0),h.getPostById(d).then(m=>y(m)).catch(()=>y(null)).finally(()=>g(!1)))},[t.search,r,h]),a.useEffect(()=>{const e=r;if(!e)return;const m=new URLSearchParams(t.search||"").get("articleId")||e.id,E=R(e),c=E.startsWith("/post?")?m?`${l}/post?articleId=${m}`:`${l}/post`:`${l}${E}`;document.title=e.title?`${e.title} â€” ${s}`:s;const p=(e.seoDescription||e.shortDesc||"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim().slice(0,160);o("name","description",p),I(c),o("property","og:type","article"),o("property","og:title",e.title||s),o("property","og:description",p),o("property","og:url",c),o("property","og:site_name",s),e.image&&o("property","og:image",e.image),o("name","twitter:card","summary_large_image"),o("name","twitter:title",e.title||s),o("name","twitter:description",p),e.image&&o("name","twitter:image",e.image);const L=e.sourceName||(()=>{try{return new URL(e.originalLink||"").hostname.replace(/^www\./,"")}catch{return s}})(),k={"@context":"https://schema.org","@type":"NewsArticle",headline:e.title,description:p,url:c,mainEntityOfPage:{"@type":"WebPage","@id":c},datePublished:e.date||e.publishedAt,dateModified:e.updatedAt||e.date||e.publishedAt,author:e.author?{"@type":"Person",name:e.author}:{"@type":"Organization",name:L},publisher:{"@type":"Organization",name:L,url:e.originalLink?(()=>{try{return new URL(e.originalLink).origin}catch{return""}})():""},...e.image?{image:{"@type":"ImageObject",url:e.image}}:{}},v={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:l},...e.county?[{"@type":"ListItem",position:2,name:`${e.county} County`,item:`${l}/news/kentucky/${e.county.toLowerCase().replace(/\s+/g,"-")}-county`},{"@type":"ListItem",position:3,name:e.title,item:c}]:[{"@type":"ListItem",position:2,name:e.title,item:c}]]};return A("json-ld-article",k),A("json-ld-breadcrumb-post",v),()=>{document.title=s,o("name","description","Kentucky News - local, state, and national updates for all 120 Kentucky counties."),I(l);const b=document.getElementById("json-ld-article");b&&b.remove();const w=document.getElementById("json-ld-breadcrumb-post");w&&w.remove()}},[r,t.search]);const f=r;return a.createElement("div",{className:n.root},f?a.createElement(_,{post:f}):P?a.createElement("div",{className:n.emptyState},a.createElement(u,{variant:"h6",gutterBottom:!0},"Loading article...")):a.createElement("div",{className:n.emptyState},a.createElement(u,{variant:"h6",gutterBottom:!0},"We couldn't find that article."),a.createElement(u,{variant:"body2",color:"textSecondary"},"It may have expired or been opened without a selected post."),a.createElement(C,{className:n.emptyAction,component:T,to:"/today",color:"primary",variant:"contained"},"Back to Local KY News")))}export{K as default};
