import{at as v,R as n,S as P,O as I,Q as N,T as p,a as B,H as x,n as _}from"./index-0bafab06.js";const $=_({root:{marginTop:15},emptyState:{textAlign:"center",padding:"24px 16px"},emptyAction:{marginTop:16}}),m="https://localkynews.com",c="Local KY News";function i(a,t,o){let r=document.querySelector(`meta[${a}="${t}"]`);r||(r=document.createElement("meta"),r.setAttribute(a,t),document.head.appendChild(r)),r.setAttribute("content",o)}function E(a){let t=document.querySelector('link[rel="canonical"]');t||(t=document.createElement("link"),t.setAttribute("rel","canonical"),document.head.appendChild(t)),t.setAttribute("href",a)}function S(a,t){let o=document.getElementById(a);o||(o=document.createElement("script"),o.type="application/ld+json",o.id=a,document.head.appendChild(o)),o.textContent=JSON.stringify(t)}function T(){const a=$(),t=v(),o=t.articleSlug||t.countySlug,[r,b]=n.useState(null),[L,u]=n.useState(!0),d=n.useMemo(()=>new P({}.REACT_APP_API_BASE_URL),[]);return n.useEffect(()=>{if(!o){u(!1);return}u(!0),d.getPostBySlug(o).then(e=>b(e)).catch(()=>{}).finally(()=>u(!1))},[o,d]),n.useEffect(()=>{const e=r;if(!e)return;const s=`${m}${I(e)}`;document.title=e.title?`${e.title} â€” ${c}`:c;const l=(e.seoDescription||e.shortDesc||"").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim().slice(0,160);i("name","description",l),E(s),i("property","og:type","article"),i("property","og:title",e.title||c),i("property","og:description",l),i("property","og:url",s),i("property","og:site_name",c),e.image&&i("property","og:image",e.image),i("name","twitter:card","summary_large_image"),i("name","twitter:title",e.title||c),i("name","twitter:description",l),e.image&&i("name","twitter:image",e.image);const y=e.sourceName||(()=>{try{return new URL(e.originalLink||"").hostname.replace(/^www\./,"")}catch{return c}})(),w={"@context":"https://schema.org","@type":"NewsArticle",headline:e.title,description:l,url:s,mainEntityOfPage:{"@type":"WebPage","@id":s},datePublished:e.date||e.publishedAt,dateModified:e.updatedAt||e.date||e.publishedAt,author:e.author?{"@type":"Person",name:e.author}:{"@type":"Organization",name:y},publisher:{"@type":"Organization",name:y,url:e.originalLink?(()=>{try{return new URL(e.originalLink).origin}catch{return""}})():""},...e.image?{image:{"@type":"ImageObject",url:e.image}}:{}},g=e.county?`${m}/news/kentucky/${e.county.toLowerCase().replace(/\s+/g,"-")}-county`:null,A={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:m},...g?[{"@type":"ListItem",position:2,name:`${e.county} County`,item:g},{"@type":"ListItem",position:3,name:e.title,item:s}]:[{"@type":"ListItem",position:2,name:e.title,item:s}]]};return S("json-ld-article",w),S("json-ld-breadcrumb-post",A),()=>{var h,f;document.title=c,i("name","description","Kentucky News - local, state, and national updates for all 120 Kentucky counties."),E(m),(h=document.getElementById("json-ld-article"))==null||h.remove(),(f=document.getElementById("json-ld-breadcrumb-post"))==null||f.remove()}},[r]),n.createElement("div",{className:a.root},r?n.createElement(N,{post:r}):L?n.createElement("div",{className:a.emptyState},n.createElement(p,{variant:"h6",gutterBottom:!0},"Loading article...")):n.createElement("div",{className:a.emptyState},n.createElement(p,{variant:"h6",gutterBottom:!0},"We couldn't find that article."),n.createElement(p,{variant:"body2",color:"textSecondary"},"It may have expired or the link may be outdated."),n.createElement(B,{className:a.emptyAction,component:x,to:"/today",color:"primary",variant:"contained"},"Back to Local KY News")))}export{T as default};
