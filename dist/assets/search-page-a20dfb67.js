import{u as f,k as g,r as s,y as p,R as e,b as r,D as S,i as P,I as y,j as k,n as v,S as x}from"./index-0bafab06.js";import{S as C}from"./skeletons-component-d1d86919.js";import{P as b}from"./posts-component-88a8037a.js";import{T as I}from"./TextField-0e1e8ea4.js";import"./Select-5d32744b.js";import"./useFormControl-1bfac1b8.js";const T=v({root:{},gridContainer:{display:"flex",alignItems:"center"}}),V=new x({}.REACT_APP_API_BASE_URL);function w(){const l=T(),n=f(a=>a.searchPosts),c=g(),[i,m]=s.useState(!1),[u,h]=s.useState(""),[t,d]=s.useState(n.searchValue);s.useEffect(()=>{const a=setTimeout(()=>{t.length>2?(m(!0),V.getPosts({search:t,category:"today",limit:15}).then(o=>{c(p({searchValue:t,posts:o})),m(!1)}).catch(o=>{h(o.errorMessage)})):c(p({searchValue:"",posts:[]}))},1e3);return()=>clearTimeout(a)},[t]);const E=a=>{d(a.target.value)};return e.createElement("div",{className:l.root},e.createElement(r,{container:!0,className:l.gridContainer},e.createElement(r,{item:!0,xs:!1,md:3}),e.createElement(r,{item:!0,xs:12,md:6},e.createElement(I,{id:"standard-full-width",label:"Search articles",style:{margin:8},value:t,helperText:"Enter at least 3 characters",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:E,autoComplete:"off"}))),e.createElement(S,null),e.createElement("br",null),e.createElement(r,{container:!0},!i&&n.posts?e.createElement(e.Fragment,null,e.createElement(b,{posts:n.posts})):i&&e.createElement(C,null)),e.createElement(P,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!u,message:u,key:"topcenter",action:e.createElement(y,{"aria-label":"close",color:"inherit",className:l.close,onClick:()=>h("")},e.createElement(k,null))}))}export{w as default};
